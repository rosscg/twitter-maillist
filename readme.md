# Twitter Mailing List with Email Integration
This tool supports accessing a Twitter account via email.

The initial motivation was to create a closed Twitter network for organisational
discussion, yet allow non-Twitter users the ability to participate via email.
The tool allows the non-Twitter user to submit Tweets by email, and receive any
Tweets from the group via email.

It has been designed for a closed-network, and therefore isn't suitable for
following open accounts etc. without further modification, however it provides
a suitable platform to implement this: ie. create the stream followed list by
listing their friends with API.friends_ids, if the 100 user limit is a problem,
consider using periodic API.home_timeline instead of stream.


*Note:*
* Stream only follows users in the `ACCESS_TOKENS` list.
* Currently strips attachments.
* Email password and other credentials are stored in plaintext!


## Usage:
* Create a Gmail account to handle the mail. This will be where Tweets are sent
for distribution.
* Add the credentials for the Gmail account to `credentials.py`
* Fill out `ACCOUNT_NAME` with the name to show as the 'sender'
* Add `CONSUMER_KEY` and `CONSUMER_SECRET` generated by Twitter developer platform.
* Add the callback url to the app on the Twitter dev platform: `http://127.0.0.1:5000/callback`
* Create a Twitter account for each user. This is currently set up expecting
fresh accounts for each user. It is not recommended to use existing public
accounts without adjusting the code.
* Setup the VM, install requirements:
  * `python3 -m venv venv`
  * `source venv/bin/activate`
  * `pip install -r requirements`
* Run the flask site to authenticate users:
  * `export FLASK_APP=flask_twitter_auth.py`
  * `flask run`
  * Navigate a browser to: `http://127.0.0.1:5000/` and authenticate the app
    for each user. Note that if doing this on the same machine, Twitter must be
    logged out between users (or use private browsing windows for each user).
    Be careful with email input --- there is no verification. Settings can be
    changed manually by editing `credentials.py`.
* Set each user to follow one-another by running `python3 twitter_functions.py`
* Start the system with `python3 monitor_app.py`, which will monitor both
emails, and the Twitter stream.
* Consider setting each Twitter account to protected.

If a new user joins the list: simply halt the service (`ctrl-c`) and repeat the steps to add
them to the credentials file. If accounts have since been set to protected, they'll
need to individually authorise the follow requests.
